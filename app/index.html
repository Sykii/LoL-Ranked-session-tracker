<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LoL Session Tracker</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- CUSTOM TITLE BAR -->
  <div class="titlebar">
    <div class="titlebar-drag-region">
      <div class="titlebar-icon">ğŸ®</div>
      <div class="titlebar-title">LoL Session Tracker</div>
    </div>
    <div class="window-controls">
      <button class="window-control" id="minimizeBtn" title="Minimizar">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <rect y="5" width="12" height="2" fill="currentColor"/>
        </svg>
      </button>
      <button class="window-control" id="maximizeBtn" title="Maximizar">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <rect x="1" y="1" width="10" height="10" fill="none" stroke="currentColor" stroke-width="1.5"/>
        </svg>
      </button>
      <button class="window-control close" id="closeBtn" title="Cerrar">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <path d="M1 1 L11 11 M11 1 L1 11" stroke="currentColor" stroke-width="1.5"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="container">
    <header>
      <h1 data-i18n="app.title">ğŸ® LoL Session Tracker</h1>
      <p data-i18n="app.subtitle">Gestiona tus cuentas y trackea tus sesiones ranked</p>
    </header>

    <!-- API KEY SECTION - COLAPSABLE -->
    <section class="collapsible-section collapsed">
      <div class="section-header" data-target="apiKeyContent">
        <h2 data-i18n="sections.apiKey.title">ğŸ”‘ Riot API Key</h2>
        <span class="expand-icon">â–¼</span>
      </div>
      <div class="section-content" id="apiKeyContent">
        <div class="api-key-form">
          <input type="password" id="apiKeyInput" data-i18n-placeholder="sections.apiKey.placeholder" placeholder="RGAPI-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx">
          <button id="saveApiKeyBtn" data-i18n="sections.apiKey.save">Guardar Key</button>
          <button id="testApiKeyBtn" data-i18n="sections.apiKey.test">Test</button>
        </div>
        <div class="api-key-status">
          <span id="apiKeyStatus" data-i18n="sections.apiKey.notConfigured">âŒ Sin configurar</span>
          <span id="apiKeyExpiry"></span>
        </div>
        <p class="hint"><span data-i18n="sections.apiKey.instructions">Las Development Keys expiran cada 24h. Consigue una en</span> <a href="https://developer.riotgames.com" target="_blank" data-i18n="sections.apiKey.link">developer.riotgames.com</a></p>
      </div>
    </section>

    <!-- ADD ACCOUNT SECTION - SIEMPRE VISIBLE -->
    <section class="section-visible">
      <h2 data-i18n="sections.addAccount.title">â• AÃ±adir Cuenta</h2>
      <div class="form-group">
        <input type="text" id="gameName" data-i18n-placeholder="sections.addAccount.gameNamePlaceholder" placeholder="Game Name (ej: Faker)">
        <input type="text" id="tagLine" data-i18n-placeholder="sections.addAccount.tagLinePlaceholder" placeholder="Tag (ej: KR1)">
        <button id="addBtn" data-i18n="sections.addAccount.add">AÃ±adir</button>
      </div>
      <p class="hint" data-i18n="sections.addAccount.example">Introduce el Riot ID completo (nombre#tag)</p>
    </section>

    <!-- ACCOUNTS LIST - SIEMPRE VISIBLE -->
    <section class="section-visible">
      <div class="section-title-with-button">
        <h2 data-i18n="sections.accounts.title">ğŸ‘¥ Cuentas</h2>
        <button id="toggleMultiModeBtn" class="multi-mode-btn" data-i18n="sections.accounts.multiMode" style="display:none;">ğŸ”„ Switch to MULTI Mode</button>
      </div>
      <div id="accountsList"></div>
    </section>

    <!-- MULTI MODE CONFIGURATION - VISIBLE SOLO EN MULTI MODE -->
    <section class="section-visible" id="multiModeConfig" style="display:none;">
      <h2 data-i18n="sections.multiConfig.title">âš™ï¸ ConfiguraciÃ³n MULTI Mode</h2>
      
      <div class="multi-config-grid">
        <div class="config-item">
          <label for="rotationInterval" data-i18n="sections.multiConfig.interval">â±ï¸ Intervalo de RotaciÃ³n</label>
          <div class="input-with-unit">
            <input type="number" id="rotationInterval" min="3" max="30" value="8" step="1">
            <span class="unit" data-i18n="sections.multiConfig.intervalUnit">segundos</span>
          </div>
          <p class="config-hint" data-i18n="sections.multiConfig.intervalHint">Tiempo que se muestra cada cuenta (3-30s)</p>
        </div>

        <div class="config-item">
          <label data-i18n="sections.multiConfig.accountsCount">ğŸ“Š Cuentas en RotaciÃ³n</label>
          <div class="accounts-count">
            <span id="multiAccountsCount">0</span> <span data-i18n="sections.multiConfig.accountsUnit">cuentas</span>
          </div>
          <p class="config-hint" data-i18n="sections.multiConfig.accountsHint">Todas tus cuentas estÃ¡n incluidas</p>
        </div>
      </div>

      <div class="multi-config-actions">
        <button id="applyMultiConfigBtn" class="primary-btn" data-i18n="sections.multiConfig.apply">ğŸ’¾ Aplicar Cambios</button>
        <button id="resetMultiConfigBtn" class="secondary-btn" data-i18n="sections.multiConfig.reset">â†º Valores por Defecto</button>
      </div>

      <div class="multi-info-box">
        <p><strong data-i18n="sections.multiConfig.tip">ğŸ’¡ Consejo:</strong> <span data-i18n="sections.multiConfig.tipText">En MULTI mode, cada cuenta mantiene su propia sesiÃ³n desde que abriste la app.</span></p>
      </div>
    </section>

    <!-- SESSION STATS - COLAPSABLE -->
    <section class="collapsible-section collapsed">
      <div class="section-header" data-target="sessionStatsContent">
        <h2 data-i18n="sections.sessionStats.title">ğŸ“Š EstadÃ­sticas de SesiÃ³n</h2>
        <span class="expand-icon">â–¼</span>
      </div>
      <div class="section-content" id="sessionStatsContent">
        <div id="sessionData">
          <p data-i18n="sections.sessionStats.noData">Selecciona una cuenta para ver estadÃ­sticas</p>
        </div>
        <div class="button-group">
          <button id="resetBtn" data-i18n="sections.sessionStats.reset" style="display:none;">Reset SesiÃ³n</button>
          <button id="toggleOverlayBtn" data-i18n="sections.overlayPosition.hide" style="display:none;">Ocultar Overlay</button>
          <button id="tryHardBtn" data-i18n="sections.sessionStats.tryhard_off" style="display:none;" class="tryhard-btn">ğŸ”¥ Modo Tryhard</button>
          <button id="toggleSpotifyBtn" data-i18n="sections.sessionStats.spotify_off" style="display:none;" class="spotify-btn">ğŸµ Mostrar Spotify</button>
        </div>
      </div>
    </section>

    <!-- OBS BROWSER SOURCE - COLAPSABLE -->
    <section class="collapsible-section collapsed" style="display:none;" id="obsSection">
      <div class="section-header" data-target="obsContent">
        <h2 data-i18n="sections.obs.title">ğŸ¥ OBS Browser Source</h2>
        <span class="expand-icon">â–¼</span>
      </div>
      <div class="section-content" id="obsContent">
        <p class="obs-instructions" data-i18n="sections.obs.description">Para usar en OBS Studio:</p>
        <ol class="obs-steps">
          <li data-i18n="sections.obs.step1">En OBS, aÃ±ade una fuente <strong>"Navegador"</strong></li>
          <li data-i18n="sections.obs.step2">Marca la casilla <strong>"Local file"</strong></li>
          <li data-i18n="sections.obs.step3">Copia y pega esta ruta:</li>
        </ol>
        <div class="path-box">
          <input type="text" id="obsPath" readonly>
          <button id="copyPathBtn" data-i18n="sections.obs.copy">Copiar</button>
        </div>
        <p class="obs-note" data-i18n="sections.obs.note">ğŸ’¡ El overlay se actualiza automÃ¡ticamente cada 2 segundos</p>
      </div>
    </section>

    <!-- OVERLAY POSITION - COLAPSABLE -->
    <section class="collapsible-section collapsed" style="display:none;" id="overlayConfigSection">
      <div class="section-header" data-target="overlayConfigContent">
        <h2 data-i18n="sections.overlayPosition.title">ğŸ¯ PosiciÃ³n del Overlay</h2>
        <span class="expand-icon">â–¼</span>
      </div>
      <div class="section-content" id="overlayConfigContent">
        <p class="hint" data-i18n="sections.overlayPosition.hint">Ajusta la posiciÃ³n del overlay en tu pantalla</p>
        
        <div class="position-controls">
          <div class="position-group">
            <label data-i18n="sections.overlayPosition.x">PosiciÃ³n X (horizontal):</label>
            <div class="position-input-group">
              <input type="number" id="overlayX" min="0" max="3000" value="20">
              <span class="position-unit">px</span>
            </div>
          </div>
          
          <div class="position-group">
            <label data-i18n="sections.overlayPosition.y">PosiciÃ³n Y (vertical):</label>
            <div class="position-input-group">
              <input type="number" id="overlayY" min="0" max="2000" value="100">
              <span class="position-unit">px</span>
            </div>
          </div>
        </div>

        <div class="position-buttons">
          <button id="applyPositionBtn" data-i18n="sections.overlayPosition.apply">Aplicar PosiciÃ³n</button>
          <button id="centerOverlayBtn" data-i18n="sections.overlayPosition.center">Centrar</button>
          <button id="resetPositionBtn" class="secondary" data-i18n="sections.overlayPosition.reset">Reset (20, 100)</button>
        </div>

        <div class="position-presets">
          <p class="preset-label" data-i18n="sections.overlayPosition.presets">Presets rÃ¡pidos:</p>
          <div class="preset-buttons">
            <button class="preset-btn" data-x="20" data-y="20" data-i18n="sections.overlayPosition.topLeft">â†– Arriba Izq</button>
            <button class="preset-btn" data-x="1600" data-y="20" data-i18n="sections.overlayPosition.topRight">â†— Arriba Der</button>
            <button class="preset-btn" data-x="20" data-y="900" data-i18n="sections.overlayPosition.bottomLeft">â†™ Abajo Izq</button>
            <button class="preset-btn" data-x="1600" data-y="900" data-i18n="sections.overlayPosition.bottomRight">â†˜ Abajo Der</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SETTINGS - ConfiguraciÃ³n -->
    <section class="collapsible-section collapsed">
      <div class="section-header" data-target="settingsSection">
        <h2 data-i18n="sections.settings.title">âš™ï¸ ConfiguraciÃ³n</h2>
        <span class="expand-icon">â–¼</span>
      </div>
      <div class="section-content" id="settingsSection">
        <div class="settings-group">
          <label for="languageSelect" data-i18n="sections.settings.language">ğŸŒ Idioma</label>
          <select id="languageSelect" class="language-select">
            <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
            <option value="en">ğŸ‡¬ğŸ‡§ English</option>
          </select>
        </div>
      </div>
    </section>

    <footer>
      <p data-i18n="footer">Los datos se actualizan cada 90 segundos | Riot API Rate Limit: 20/s</p>
    </footer>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
